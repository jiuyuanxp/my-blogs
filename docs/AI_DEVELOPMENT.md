# 使用 AI 编程构建本项目的实践总结

> 本文档记录如何借助 AI（如 Cursor、Claude、GPT 等）协作开发本博客项目，供学习与复盘使用。

## 1. 项目定位

- **目标**：个人博客，用于练手前后端、部署、SEO 等
- **特点**：学习项目、开源到 GitHub
- **约束**：文档优先、不重复、可学习

## 2. AI 协作流程

### 2.1 需求描述

向 AI 描述需求时尽量包含：

- **背景**：为什么做、解决什么问题
- **范围**：具体功能/模块，不做的部分
- **约束**：技术栈、规范、已有约定

示例：

> 我需要实现文章列表页，从 Java 后端的 `/api/articles` 拉取数据，支持分页。前端用 Next.js App Router，服务端组件优先。先写设计文档再写代码。

### 2.2 文档先行

- 新功能/模块：先让 AI 生成或补充设计文档（接口、流程、数据结构）
- 文档放在 `docs/` 或对应模块的 README
- 避免在对话中重复描述，用「见 docs/xxx.md」引用

### 2.3 代码实现

- 基于设计文档让 AI 生成/修改代码
- 复杂逻辑要求 AI 加注释，便于后续学习
- 修改后运行 `pnpm build`、`pnpm lint` 做基础校验

### 2.4 迭代与修正

- 出错时提供完整错误信息、相关代码片段
- 需求变更时先更新文档，再改代码

## 3. 本项目中的 AI 使用场景

| 场景 | 做法 | 注意点 |
|------|------|--------|
| 初始化项目 | 提供技术栈、目录结构，让 AI 生成脚手架 | 检查依赖版本、配置文件 |
| 添加新功能 | 先写设计文档，再实现 | 避免过度设计 |
| 修复 Bug | 提供复现步骤、错误信息 | 确认根因后再改 |
| 重构 | 说明目标、约束，分步进行 | 保持测试通过 |
| 部署配置 | 提供环境说明，让 AI 写 Docker/Nginx | 敏感信息用 env |
| SEO 优化 | 参考 nextjs-seo skill，让 AI 实现 | 检查 metadata、sitemap |

## 4. 提示词技巧

### 4.1 上下文

- 使用 `@` 引用相关文件，减少 AI 猜测
- 说明项目结构（如「这是 Monorepo，apps/web 是 Next.js」）

### 4.2 约束

- 明确「不要创建文档」「不要用 any」「用中文注释」
- 引用 `AGENTS.md` 作为规范来源

### 4.3 分步执行

- 大任务拆成小步骤，每步验证后再继续
- 避免一次性生成过多代码，难以排查问题

## 5. 工具与配置

### 5.1 Cursor / IDE

- 使用 `AGENTS.md` 作为项目规则
- 配置 MCP：Playwright（E2E）、Context7（文档）、interactive-feedback（需求澄清）

### 5.2 Skills

- `nextjs-seo`：SEO 实现与检查
- `java-spring-boot`：Spring Boot 开发
- `docker-deployment`：Docker 配置
- `monorepo-management`：Turborepo、pnpm 使用

### 5.3 文档与代码分离

- 设计文档：`docs/`
- 代码注释：仅复杂逻辑，文件头说明用途

## 6. 学习建议

1. **理解再应用**：AI 生成的代码要自己读一遍，理解原理
2. **记录决策**：重要设计决策写在文档中，方便日后回顾
3. **小步提交**：功能拆分提交，便于回滚和复盘
4. **安全自查**：上线前对照 `docs/SECURITY.md` 检查

## 7. 常见问题

**Q：AI 生成的代码风格不统一？**  
A：在 `AGENTS.md` 中写明规范，并用 Prettier/ESLint 统一格式化。

**Q：文档和代码不一致？**  
A：改代码时同步更新文档，文档作为「单一事实来源」。

**Q：如何避免 AI 过度设计？**  
A：明确「学习项目」「MVP 优先」，要求简单实现。

---

*本文档随项目演进持续更新，记录 AI 协作中的有效实践与教训。*

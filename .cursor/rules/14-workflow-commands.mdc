---
description: 快捷指令工作流 - /review /test /fix /refactor /doc /shield
alwaysApply: true
---

# 快捷指令工作流

用户输入以下指令时，按对应流程执行：

## /review

深度代码审查：
1. 分析最近修改或指定文件
2. 检查逻辑漏洞、性能瓶颈、安全隐患
3. 给出具体修复建议和优先级
4. 适用：提交 PR 前、重构后

## /test

测试生成与运行：
1. 分析当前修改涉及的文件
2. 生成/补充单元测试或集成测试
3. 运行 `pnpm test` 验证
4. 适用：功能开发完成后

## /fix

错误诊断与修复：
1. 读取用户提供的终端报错或最近构建/测试输出
2. 定位根因，提出修复方案
3. 增量修复并验证
4. 适用：编译失败、测试未通过

## /refactor

重构优化：
1. 在不改变功能的前提下优化结构
2. 消除重复、改善命名、提取函数
3. 保持测试通过
4. 适用：消除「代码味道」

## /doc

文档更新：
1. 提取代码逻辑和接口变更
2. 更新 README、API 文档或注释
3. 适用：接口变更、新功能发布后

## /shield

安全审计：
1. 检查敏感数据、鉴权逻辑、注入风险
2. 参考 01-security.mdc 清单
3. 适用：处理敏感数据或鉴权逻辑时
